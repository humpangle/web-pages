<!DOCTYPE html> <html lang=en class=light><!--
 Page saved with SingleFile 
 url: https://brandur.org/fragments/deleted-record-insert 
 saved date: Wed Aug 14 2024 08:48:26 GMT-0400 (Eastern Daylight Time)
--><meta charset=utf-8>
<meta name=viewport content="width=device-width, initial-scale=1">
<title>Easy, alternative soft deletion: `deleted_record_insert` — brandur.org</title>
<link rel="shortcut icon" type=image/jpg sizes=256x256 href="data:image/jpeg;base64,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">
<link href=https://brandur.org/articles.atom rel=alternate title="Articles — brandur.org" type=application/atom+xml>
<link href=https://brandur.org/atoms.atom rel=alternate title="Atoms — brandur.org" type=application/atom+xml>
<link href=https://brandur.org/fragments.atom rel=alternate title="Fragments — brandur.org" type=application/atom+xml>
<link href=https://brandur.org/sequences.atom rel=alternate title="Sequences — brandur.org" type=application/atom+xml>
<style media=screen>/*! tailwindcss v3.4.3 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}a{color:inherit;text-decoration:inherit}code,pre{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}input{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h1,p,pre{margin:0}ul{list-style:none;margin:0;padding:0}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}:disabled{cursor:default}iframe,svg{display:block;vertical-align:middle}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0#0000;--tw-ring-shadow:0 0#0000;--tw-shadow:0 0#0000;--tw-shadow-colored:0 0#0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.prose{color:var(--tw-prose-body)}.prose :where([class~=lead]):not(:where([class~=not-prose] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-bottom:1.2em;margin-top:1.2em}.prose :where(a):not(:where([class~=not-prose] *)){color:var(--tw-prose-links);font-weight:500;text-decoration:underline}.prose :where(strong):not(:where([class~=not-prose] *)){color:var(--tw-prose-bold);font-weight:600}.prose :where(a strong):not(:where([class~=not-prose] *)){color:inherit}.prose :where(blockquote strong):not(:where([class~=not-prose] *)){color:inherit}.prose :where(thead th strong):not(:where([class~=not-prose] *)){color:inherit}.prose :where(ol):not(:where([class~=not-prose] *)){list-style-type:decimal;margin-bottom:1.25em;margin-top:1.25em;padding-left:1.625em}.prose :where(ol[type=A]):not(:where([class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a]):not(:where([class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=A s]):not(:where([class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a s]):not(:where([class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=I]):not(:where([class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i]):not(:where([class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type=I s]):not(:where([class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i s]):not(:where([class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~=not-prose] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~=not-prose] *)){list-style-type:disc;margin-bottom:1.25em;margin-top:1.25em;padding-left:1.625em}.prose :where(ol>li):not(:where([class~=not-prose] *))::marker{color:var(--tw-prose-counters);font-weight:400}.prose :where(ul>li):not(:where([class~=not-prose] *))::marker{color:var(--tw-prose-bullets)}.prose :where(hr):not(:where([class~=not-prose] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-bottom:3em;margin-top:3em}.prose :where(blockquote):not(:where([class~=not-prose] *)){border-left-color:var(--tw-prose-quote-borders);border-left-width:.25rem;color:var(--tw-prose-quotes);font-style:italic;font-weight:500;margin-bottom:1.6em;margin-top:1.6em;padding-left:1em;quotes:none}.prose :where(blockquote p:first-of-type):not(:where([class~=not-prose] *)):before{content:open-quote}.prose :where(blockquote p:last-of-type):not(:where([class~=not-prose] *)):after{content:close-quote}.prose :where(h1):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:2.25em;font-weight:800;line-height:1.1111111;margin-bottom:.8888889em;margin-top:0}.prose :where(h1 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:900}.prose :where(h2):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.5em;font-weight:700;line-height:1.3333333;margin-bottom:1em;margin-top:2em}.prose :where(h2 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:800}.prose :where(h3):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.25em;font-weight:600;line-height:1.6;margin-bottom:.6em;margin-top:1.6em}.prose :where(h3 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(h4):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;line-height:1.5;margin-bottom:.5em;margin-top:1.5em}.prose :where(h4 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(img):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(figure>*):not(:where([class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose :where(figcaption):not(:where([class~=not-prose] *)){color:var(--tw-prose-captions);font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose :where(code):not(:where([class~=not-prose] *)){color:var(--tw-prose-code);font-size:.875em;font-weight:600}.prose :where(code):not(:where([class~=not-prose] *)):before{content:"`"}.prose :where(code):not(:where([class~=not-prose] *)):after{content:"`"}.prose :where(a code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(h1 code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(h2 code):not(:where([class~=not-prose] *)){color:inherit;font-size:.875em}.prose :where(h3 code):not(:where([class~=not-prose] *)){color:inherit;font-size:.9em}.prose :where(h4 code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(blockquote code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(thead th code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(pre):not(:where([class~=not-prose] *)){background-color:var(--tw-prose-pre-bg);border-radius:.375rem;color:var(--tw-prose-pre-code);font-size:.875em;font-weight:400;line-height:1.7142857;margin-bottom:1.7142857em;margin-top:1.7142857em;overflow-x:auto;padding:.8571429em 1.1428571em}.prose :where(pre code):not(:where([class~=not-prose] *)){background-color:initial;border-radius:0;border-width:0;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.prose :where(pre code):not(:where([class~=not-prose] *)):before{content:none}.prose :where(pre code):not(:where([class~=not-prose] *)):after{content:none}.prose :where(table):not(:where([class~=not-prose] *)){font-size:.875em;line-height:1.7142857;margin-bottom:2em;margin-top:2em;table-layout:auto;text-align:left;width:100%}.prose :where(thead):not(:where([class~=not-prose] *)){border-bottom-color:var(--tw-prose-th-borders);border-bottom-width:1px}.prose :where(thead th):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;padding-bottom:.5714286em;padding-left:.5714286em;padding-right:.5714286em;vertical-align:bottom}.prose :where(tbody tr):not(:where([class~=not-prose] *)){border-bottom-color:var(--tw-prose-td-borders);border-bottom-width:1px}.prose :where(tbody tr:last-child):not(:where([class~=not-prose] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~=not-prose] *)){vertical-align:initial}.prose :where(tfoot):not(:where([class~=not-prose] *)){border-top-color:var(--tw-prose-th-borders);border-top-width:1px}.prose :where(tfoot td):not(:where([class~=not-prose] *)){vertical-align:top}.prose{--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:#00000080;--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.75}.prose :where(p):not(:where([class~=not-prose] *)){margin-bottom:1.25em;margin-top:1.25em}.prose :where(video):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(figure):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(li):not(:where([class~=not-prose] *)){margin-bottom:.5em;margin-top:.5em}.prose :where(ol>li):not(:where([class~=not-prose] *)){padding-left:.375em}.prose :where(ul>li):not(:where([class~=not-prose] *)){padding-left:.375em}.prose :where(.prose>ul>li p):not(:where([class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose :where(.prose>ul>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ul>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.25em}.prose :where(.prose>ol>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ol>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.25em}.prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose :where(hr+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h2+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h3+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h4+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose :where(thead th:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose :where(tbody td,tfoot td):not(:where([class~=not-prose] *)){padding:.5714286em}.prose :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose :where(.prose>:first-child):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(.prose>:last-child):not(:where([class~=not-prose] *)){margin-bottom:0}.prose-sm{font-size:.875rem;line-height:1.7142857}.prose-sm :where(p):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em;margin-top:1.1428571em}.prose-sm :where([class~=lead]):not(:where([class~=not-prose] *)){font-size:1.2857143em;line-height:1.5555556;margin-bottom:.8888889em;margin-top:.8888889em}.prose-sm :where(blockquote):not(:where([class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em;padding-left:1.1111111em}.prose-sm :where(h1):not(:where([class~=not-prose] *)){font-size:2.1428571em;line-height:1.2;margin-bottom:.8em;margin-top:0}.prose-sm :where(h2):not(:where([class~=not-prose] *)){font-size:1.4285714em;line-height:1.4;margin-bottom:.8em;margin-top:1.6em}.prose-sm :where(h3):not(:where([class~=not-prose] *)){font-size:1.2857143em;line-height:1.5555556;margin-bottom:.4444444em;margin-top:1.5555556em}.prose-sm :where(h4):not(:where([class~=not-prose] *)){line-height:1.4285714;margin-bottom:.5714286em;margin-top:1.4285714em}.prose-sm :where(img):not(:where([class~=not-prose] *)){margin-bottom:1.7142857em;margin-top:1.7142857em}.prose-sm :where(video):not(:where([class~=not-prose] *)){margin-bottom:1.7142857em;margin-top:1.7142857em}.prose-sm :where(figure):not(:where([class~=not-prose] *)){margin-bottom:1.7142857em;margin-top:1.7142857em}.prose-sm :where(figure>*):not(:where([class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose-sm :where(figcaption):not(:where([class~=not-prose] *)){font-size:.8571429em;line-height:1.3333333;margin-top:.6666667em}.prose-sm :where(code):not(:where([class~=not-prose] *)){font-size:.8571429em}.prose-sm :where(h2 code):not(:where([class~=not-prose] *)){font-size:.9em}.prose-sm :where(h3 code):not(:where([class~=not-prose] *)){font-size:.8888889em}.prose-sm :where(pre):not(:where([class~=not-prose] *)){border-radius:.25rem;font-size:.8571429em;line-height:1.6666667;margin-bottom:1.6666667em;margin-top:1.6666667em;padding:.6666667em 1em}.prose-sm :where(ol):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em;margin-top:1.1428571em;padding-left:1.5714286em}.prose-sm :where(ul):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em;margin-top:1.1428571em;padding-left:1.5714286em}.prose-sm :where(li):not(:where([class~=not-prose] *)){margin-bottom:.2857143em;margin-top:.2857143em}.prose-sm :where(ol>li):not(:where([class~=not-prose] *)){padding-left:.4285714em}.prose-sm :where(ul>li):not(:where([class~=not-prose] *)){padding-left:.4285714em}.prose-sm :where(.prose>ul>li p):not(:where([class~=not-prose] *)){margin-bottom:.5714286em;margin-top:.5714286em}.prose-sm :where(.prose>ul>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.1428571em}.prose-sm :where(.prose>ul>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em}.prose-sm :where(.prose>ol>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.1428571em}.prose-sm :where(.prose>ol>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em}.prose-sm :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose] *)){margin-bottom:.5714286em;margin-top:.5714286em}.prose-sm :where(hr):not(:where([class~=not-prose] *)){margin-bottom:2.8571429em;margin-top:2.8571429em}.prose-sm :where(hr+*):not(:where([class~=not-prose] *)){margin-top:0}.prose-sm :where(h2+*):not(:where([class~=not-prose] *)){margin-top:0}.prose-sm :where(h3+*):not(:where([class~=not-prose] *)){margin-top:0}.prose-sm :where(h4+*):not(:where([class~=not-prose] *)){margin-top:0}.prose-sm :where(table):not(:where([class~=not-prose] *)){font-size:.8571429em;line-height:1.5}.prose-sm :where(thead th):not(:where([class~=not-prose] *)){padding-bottom:.6666667em;padding-left:1em;padding-right:1em}.prose-sm :where(thead th:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose-sm :where(thead th:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose-sm :where(tbody td,tfoot td):not(:where([class~=not-prose] *)){padding:.6666667em 1em}.prose-sm :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose-sm :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose-sm :where(.prose>:first-child):not(:where([class~=not-prose] *)){margin-top:0}.prose-sm :where(.prose>:last-child):not(:where([class~=not-prose] *)){margin-bottom:0}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.-top-2\.5{top:-.625rem}.left-1\/2{left:50%}.left-4{left:1rem}.top-0{top:0}.top-5{top:1.25rem}.z-10{z-index:10}.mx-0\.5{margin-left:.125rem;margin-right:.125rem}.mx-auto{margin-left:auto;margin-right:auto}.my-1{margin-bottom:.25rem;margin-top:.25rem}.my-8{margin-bottom:2rem;margin-top:2rem}.mb-0\.5{margin-bottom:.125rem}.mb-12{margin-bottom:3rem}.mr-2{margin-right:.5rem}.mt-0{margin-top:0}.mt-8{margin-top:2rem}.block{display:block}.flex{display:flex}.hidden{display:none}.h-4{height:1rem}.h-6{height:1.5rem}.h-full{height:100%}.min-h-screen{min-height:100vh}.w-12{width:3rem}.w-16{width:4rem}.w-4{width:1rem}.w-6{width:1.5rem}.w-full{width:100%}.max-w-\[550px\]{max-width:550px}.max-w-\[750px\]{max-width:750px}.max-w-\[800px\]{max-width:800px}.max-w-none{max-width:none}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.flex-grow-0{flex-grow:0}.basis-\[115px\]{flex-basis:115px}.-translate-x-1\/2{--tw-translate-x:-50%}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.rounded-lg{border-radius:.5rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-slate-200{--tw-border-opacity:1;border-color:rgb(226 232 240/var(--tw-border-opacity))}.border-slate-300{--tw-border-opacity:1;border-color:rgb(203 213 225/var(--tw-border-opacity))}.bg-\[\#f3f2e6\]{--tw-bg-opacity:1;background-color:rgb(243 242 230/var(--tw-bg-opacity))}.bg-\[\#f6f5e9\]{--tw-bg-opacity:1;background-color:rgb(246 245 233/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.from-\[\#f6f5e9\]{--tw-gradient-from:#f6f5e9 var(--tw-gradient-from-position);--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to)}.to-\[\#faf8fa\]{--tw-gradient-to:#faf8fa var(--tw-gradient-to-position)}.bg-no-repeat{background-repeat:no-repeat}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.px-8{padding-left:2rem;padding-right:2rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-4{padding-bottom:1rem;padding-top:1rem}.pb-20{padding-bottom:5rem}.pb-4{padding-bottom:1rem}.pb-8{padding-bottom:2rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.text-center{text-align:center}.text-right{text-align:right}.font-sans{font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.font-serif{font-family:ui-serif,Georgia,Cambria,Times New Roman,Times,serif}.text-5xl{font-size:3rem}.text-\[0\.5rem\]{font-size:.5rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.italic{font-style:italic}.leading-normal{line-height:1.5}.leading-tight{line-height:1.25}.tracking-normal{letter-spacing:0}.tracking-tighter{letter-spacing:-.05em}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-proseBody{--tw-text-opacity:1;color:rgb(55 65 81/var(--tw-text-opacity))}.text-proseLinks{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.opacity-0{opacity:0}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.shadow-inner{box-shadow:var(--tw-ring-offset-shadow,0 0#0000),var(--tw-ring-shadow,0 0#0000),var(--tw-shadow)}.shadow-inner{--tw-shadow:inset 0 2px 4px 0#0000000d;--tw-shadow-colored:inset 0 2px 4px 0 var(--tw-shadow-color)}.transition-all{transition-property:all}.transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.dark\:prose-invert:where(.dark,.dark *){--tw-prose-body:var(--tw-prose-invert-body);--tw-prose-headings:var(--tw-prose-invert-headings);--tw-prose-lead:var(--tw-prose-invert-lead);--tw-prose-links:var(--tw-prose-invert-links);--tw-prose-bold:var(--tw-prose-invert-bold);--tw-prose-counters:var(--tw-prose-invert-counters);--tw-prose-bullets:var(--tw-prose-invert-bullets);--tw-prose-hr:var(--tw-prose-invert-hr);--tw-prose-quotes:var(--tw-prose-invert-quotes);--tw-prose-quote-borders:var(--tw-prose-invert-quote-borders);--tw-prose-captions:var(--tw-prose-invert-captions);--tw-prose-code:var(--tw-prose-invert-code);--tw-prose-pre-code:var(--tw-prose-invert-pre-code);--tw-prose-pre-bg:var(--tw-prose-invert-pre-bg);--tw-prose-th-borders:var(--tw-prose-invert-th-borders);--tw-prose-td-borders:var(--tw-prose-invert-td-borders)}.hover\:text-slate-500:hover{--tw-text-opacity:1;color:rgb(100 116 139/var(--tw-text-opacity))}.prose-h1\:text-base :is(:where(h1):not(:where([class~=not-prose] *))){font-size:1rem;line-height:1.5rem}.prose-h1\:font-bold :is(:where(h1):not(:where([class~=not-prose] *))){font-weight:700}.prose-h2\:mb-1 :is(:where(h2):not(:where([class~=not-prose] *))){margin-bottom:.25rem}.prose-h2\:text-sm :is(:where(h2):not(:where([class~=not-prose] *))){font-size:.875rem;line-height:1.25rem}.prose-h3\:mb-1 :is(:where(h3):not(:where([class~=not-prose] *))){margin-bottom:.25rem}.prose-h3\:text-xs :is(:where(h3):not(:where([class~=not-prose] *))){font-size:.75rem;line-height:1rem}.prose-h4\:mb-1 :is(:where(h4):not(:where([class~=not-prose] *))){margin-bottom:.25rem}.prose-h4\:text-xs :is(:where(h4):not(:where([class~=not-prose] *))){font-size:.75rem;line-height:1rem}.prose-p\:font-serif :is(:where(p):not(:where([class~=not-prose] *))){font-family:ui-serif,Georgia,Cambria,Times New Roman,Times,serif}.prose-p\:text-\[0\.8rem\] :is(:where(p):not(:where([class~=not-prose] *))){font-size:.8rem}.prose-a\:border-b :is(:where(a):not(:where([class~=not-prose] *))){border-bottom-width:1px}.prose-a\:border-slate-500 :is(:where(a):not(:where([class~=not-prose] *))){--tw-border-opacity:1;border-color:rgb(100 116 139/var(--tw-border-opacity))}.prose-a\:font-sans :is(:where(a):not(:where([class~=not-prose] *))){font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.prose-a\:no-underline :is(:where(a):not(:where([class~=not-prose] *))){text-decoration-line:none}.hover\:prose-a\:border-b-slate-200 :is(:where(a):not(:where([class~=not-prose] *))):hover{--tw-border-opacity:1;border-bottom-color:rgb(226 232 240/var(--tw-border-opacity))}.prose-a\:prose-h2\:border-b-0 :is(:where(h2):not(:where([class~=not-prose] *))) :is(:where(a):not(:where([class~=not-prose] *))){border-bottom-width:0}.prose-a\:prose-h2\:font-bold :is(:where(h2):not(:where([class~=not-prose] *))) :is(:where(a):not(:where([class~=not-prose] *))){font-weight:700}.prose-a\:prose-h3\:border-b-0 :is(:where(h3):not(:where([class~=not-prose] *))) :is(:where(a):not(:where([class~=not-prose] *))){border-bottom-width:0}.prose-a\:prose-h3\:font-bold :is(:where(h3):not(:where([class~=not-prose] *))) :is(:where(a):not(:where([class~=not-prose] *))){font-weight:700}.prose-a\:prose-h4\:border-b-0 :is(:where(h4):not(:where([class~=not-prose] *))) :is(:where(a):not(:where([class~=not-prose] *))){border-bottom-width:0}.prose-a\:prose-h4\:font-bold :is(:where(h4):not(:where([class~=not-prose] *))) :is(:where(a):not(:where([class~=not-prose] *))){font-weight:700}.prose-blockquote\:font-normal :is(:where(blockquote):not(:where([class~=not-prose] *))){font-weight:400}.prose-blockquote\:text-slate-800 :is(:where(blockquote):not(:where([class~=not-prose] *))){--tw-text-opacity:1;color:rgb(30 41 59/var(--tw-text-opacity))}.prose-p\:prose-blockquote\:font-sans :is(:where(blockquote):not(:where([class~=not-prose] *))) :is(:where(p):not(:where([class~=not-prose] *))){font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.prose-strong\:font-sans :is(:where(strong):not(:where([class~=not-prose] *))){font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.prose-code\:prose-p\:text-sm :is(:where(p):not(:where([class~=not-prose] *))) :is(:where(code):not(:where([class~=not-prose] *))){font-size:.875rem;line-height:1.25rem}.prose-code\:prose-a\:text-sm :is(:where(a):not(:where([class~=not-prose] *))) :is(:where(code):not(:where([class~=not-prose] *))){font-size:.875rem;line-height:1.25rem}.prose-pre\:text-\[0\.8rem\] :is(:where(pre):not(:where([class~=not-prose] *))){font-size:.8rem}.prose-pre\:leading-\[1\.1rem\] :is(:where(pre):not(:where([class~=not-prose] *))){line-height:1.1rem}.prose-ol\:font-serif :is(:where(ol):not(:where([class~=not-prose] *))){font-family:ui-serif,Georgia,Cambria,Times New Roman,Times,serif}.prose-ul\:font-serif :is(:where(ul):not(:where([class~=not-prose] *))){font-family:ui-serif,Georgia,Cambria,Times New Roman,Times,serif}.prose-img\:w-full :is(:where(img):not(:where([class~=not-prose] *))){width:100%}.prose-hr\:my-10 :is(:where(hr):not(:where([class~=not-prose] *))){margin-bottom:2.5rem;margin-top:2.5rem}@media (min-width:640px){}@media (min-width:768px){.md\:mb-24{margin-bottom:6rem}.md\:mr-4{margin-right:1rem}.md\:mt-16{margin-top:4rem}.md\:block{display:block}.md\:flex{display:flex}.md\:w-36{width:9rem}.md\:min-w-0{min-width:0}.md\:flex-grow{flex-grow:1}.md\:flex-row{flex-direction:row}.md\:border-l{border-left-width:1px}.md\:py-6{padding-bottom:1.5rem;padding-top:1.5rem}.md\:pl-4{padding-left:1rem}.md\:pl-6{padding-left:1.5rem}.md\:pl-8{padding-left:2rem}.md\:pr-4{padding-right:1rem}.md\:pr-6{padding-right:1.5rem}.md\:tracking-wider{letter-spacing:.05em}.prose-hr\:md\:-mx-\[2rem\] :is(:where(hr):not(:where([class~=not-prose] *))){margin-left:-2rem;margin-right:-2rem}.prose-hr\:md\:w-\[calc\(100\%\+4rem\)\] :is(:where(hr):not(:where([class~=not-prose] *))){width:calc(100% + 4rem)}}@media (min-width:1024px){.lg\:block{display:block}}@media (min-width:1280px){}.dark\:border-black:where(.dark,.dark *){--tw-border-opacity:1;border-color:rgb(0 0 0/var(--tw-border-opacity))}.dark\:border-slate-700:where(.dark,.dark *){--tw-border-opacity:1;border-color:rgb(51 65 85/var(--tw-border-opacity))}.dark\:bg-\[\#2e3440\]:where(.dark,.dark *){--tw-bg-opacity:1;background-color:rgb(46 52 64/var(--tw-bg-opacity))}.dark\:bg-proseInvertBody:where(.dark,.dark *){--tw-bg-opacity:1;background-color:rgb(209 213 219/var(--tw-bg-opacity))}.dark\:bg-slate-800:where(.dark,.dark *){--tw-bg-opacity:1;background-color:rgb(30 41 59/var(--tw-bg-opacity))}.dark\:from-slate-800:where(.dark,.dark *){--tw-gradient-from:#1e293b var(--tw-gradient-from-position);--tw-gradient-to:#1e293b00 var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to)}.dark\:to-slate-950:where(.dark,.dark *){--tw-gradient-to:#020617 var(--tw-gradient-to-position)}.dark\:text-proseInvertBody:where(.dark,.dark *){--tw-text-opacity:1;color:rgb(209 213 219/var(--tw-text-opacity))}.dark\:text-proseInvertLinks:where(.dark,.dark *){--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.dark\:text-slate-200:where(.dark,.dark *){--tw-text-opacity:1;color:rgb(226 232 240/var(--tw-text-opacity))}.dark\:hover\:text-slate-400:hover:where(.dark,.dark *){--tw-text-opacity:1;color:rgb(148 163 184/var(--tw-text-opacity))}.dark\:prose-blockquote\:text-slate-300 :is(:where(blockquote):not(:where([class~=not-prose] *))):where(.dark,.dark *){--tw-text-opacity:1;color:rgb(203 213 225/var(--tw-text-opacity))}.dark\:prose-hr\:text-slate-700 :is(:where(hr):not(:where([class~=not-prose] *))):where(.dark,.dark *){--tw-text-opacity:1;color:rgb(51 65 85/var(--tw-text-opacity))}</style>
<style media=screen>.nav_item:after{background:transparent;content:"";display:block;height:3px;margin-left:auto;margin-right:auto;margin-top:5px;transition:width .3s ease,background-color .3s ease;width:0px}.nav_item:hover:after{background:#000;width:80%}.theme_toggle input:checked~span{opacity:1}</style>
<meta name=twitter:card content=summary_large_image>
<meta name=twitter:site content=@brandur>
<meta name=twitter:creator content=@brandur>
<meta name=twitter:title content="Easy, alternative soft deletion: `deleted_record_insert`">
<meta name=twitter:description content="An alternate to traditional <code>deleted_at</code> soft deletion that stays out of the way and minimizes bugs.">
<meta name=referrer content=no-referrer><style>.sf-hidden{display:none!important}</style><link rel=canonical href=https://brandur.org/fragments/deleted-record-insert><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head>
<body class="antialiased bg-[#f6f5e9] bg-no-repeat bg-gradient-to-br from-[#f6f5e9] to-[#faf8fa] dark:bg-slate-800 dark:from-slate-800 dark:to-slate-950 min-h-screen">
 
 
 <div class="flex flex-col md:flex-row font-sans font-semibold text-xs py-4 md:py-6">
 <div class="flex justify-center py-1 md:pl-6 md:pr-4 md:w-36">
 <a class="font-extrabold nav_item text-black hover:text-slate-500 text-xs tracking-tighter dark:text-slate-200 dark:hover:text-slate-400" href=https://brandur.org/>brandur.org</a>
 </div>
 <div class="flex justify-center flex-1 px-4 py-1">
 <ul class="flex tracking-normal md:tracking-wider uppercase">
 <li class="mr-2 md:mr-4">
 <a class="nav_item block text-black hover:text-slate-500 dark:text-slate-200 dark:hover:text-slate-400" href=https://brandur.org/articles>Articles</a>
 </li>
 <li class="mr-2 md:mr-4">
 <a class="nav_item block text-black hover:text-slate-500 dark:text-slate-200 dark:hover:text-slate-400" href=https://brandur.org/atoms>Atoms</a>
 </li>
 <li class="mr-2 md:mr-4">
 <a class="nav_item block text-black hover:text-slate-500 dark:text-slate-200 dark:hover:text-slate-400" href=https://brandur.org/fragments>Fragments</a>
 </li>
 <li class="mr-2 md:mr-4">
 <a class="nav_item block text-black hover:text-slate-500 dark:text-slate-200 dark:hover:text-slate-400" href=https://brandur.org/newsletter>Newsletter</a>
 </li>
 <li class="mr-2 md:mr-4 hidden lg:block">
 <a class="nav_item block text-black hover:text-slate-500 dark:text-slate-200 dark:hover:text-slate-400" href=https://brandur.org/sequences>Sequences</a>
 </li>
 <li class="mr-2 md:mr-4 hidden md:block">
 <a class="nav_item block text-black hover:text-slate-500 dark:text-slate-200 dark:hover:text-slate-400" href=https://brandur.org/now>Now</a>
 </li>
 <li class="mr-2 md:mr-4 hidden md:block">
 <a class="nav_item block text-black hover:text-slate-500 dark:text-slate-200 dark:hover:text-slate-400" href=https://brandur.org/uses>Uses</a>
 </li>
 <li class="mr-2 md:mr-4">
 <a class="nav_item block text-black hover:text-slate-500 dark:text-slate-200 dark:hover:text-slate-400" href=https://brandur.org/about>About</a>
 </li>
 </ul>
 </div>
 <div class="flex justify-center py-1 md:pl-4 md:pr-6 md:w-36">
 
<div class="relative theme_toggle">
 
 <div class="relative flex items-center h-4 z-10">
 <label class="w-16 h-6 pr-4 relative flex items-center justify-end">
 <input value=light name=theme_toggle_state type=radio class="opacity-0 absolute block w-full h-full inset-0 cursor-pointer">
 <span class="transition-opacity opacity-50 cursor-pointer">
 
 <span class="h-4 w-4 block">
 <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg>
 <g clip-path=url(#a) fill=#000000>
 <path d="M12 0a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V1a1 1 0 0 1 1-1ZM4.929 3.515a1 1 0 0 0-1.414 1.414l2.828 2.828a1 1 0 0 0 1.414-1.414L4.93 3.515ZM1 11a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2H1ZM18 12a1 1 0 0 1 1-1h4a1 1 0 1 1 0 2h-4a1 1 0 0 1-1-1ZM17.657 16.243a1 1 0 0 0-1.414 1.414l2.828 2.828a1 1 0 1 0 1.414-1.414l-2.828-2.828ZM7.757 17.657a1 1 0 1 0-1.414-1.414L3.515 19.07a1 1 0 1 0 1.414 1.414l2.828-2.828ZM20.485 4.929a1 1 0 0 0-1.414-1.414l-2.828 2.828a1 1 0 1 0 1.414 1.414l2.828-2.828ZM13 19a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0v-4ZM12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10Z"></path>
 </g>
 <defs>
 <clippath id=a>
 <path fill=#ffffff d="M0 0h24v24H0z"></path>
 </clippath>
 </defs>
 </svg>
 </span>
 </span>
 </label>
 <label class="w-6 h-6 relative">
 <input value=auto name=theme_toggle_state type=radio checked class="opacity-0 absolute block w-full h-full inset-0 cursor-pointer">
 <span class="absolute hidden text-[0.5rem] text-proseBody font-bold tracking-tighter -top-2.5 left-1/2 transform -translate-x-1/2 opacity-50 transition-opacity cursor-pointer uppercase dark:text-proseInvertBody md:block">Auto</span>
 </label>
 <label class="w-16 h-6 pl-4 relative flex items-center">
 <input value=dark name=theme_toggle_state type=radio class="opacity-0 absolute block w-full h-full inset-0 cursor-pointer">
 <span class="font-bold opacity-50 transition-opacity cursor-pointer">
 <span class="h-4 w-4 block">
 <svg viewBox="0 0 20 20" xmlns=http://www.w3.org/2000/svg>
 <path d="M13.719 1.8A8.759 8.759 0 1 1 1.8 13.719c3.335 1.867 7.633 1.387 10.469-1.449 2.837-2.837 3.318-7.134 1.45-10.47z"></path>
 </svg>
 </span>
 
 </span>
 </label>
 </div>
 <div class="absolute top-0 left-1/2 transform -translate-x-1/2">
 <div class="track w-12 h-4 bg-white border border-slate-200 rounded-lg shadow-inner dark:bg-[#2e3440] dark:border-slate-700"></div>
 <div class="track_dot bg-[#f3f2e6] border-slate-300 transition-all duration-300 ease-in-out absolute top-0 left-4 w-4 h-4 border rounded-lg dark:bg-proseInvertBody dark:border-black"></div>
 </div>
</div>
 </div>
</div><div>
 <div class="mb-12 mt-0 px-4 md:mb-24 md:mt-16">
 <div class="container max-w-[800px] mx-auto">
 <h1 class="font-normal font-serif leading-tight my-8 text-center text-5xl text-proseLinks tracking-tighter dark:text-proseInvertLinks">
 Easy, alternative soft deletion: `deleted_record_insert`
 </h1>
 </div>
 
 
 
</div>
<div class="container max-w-[750px] mx-auto mt-8 px-8">
 <div class=md:flex>
 <div class="basis-[115px] flex-grow-0 flex-shrink-0 hidden md:block"> 
 <div class="my-1 leading-normal text-proseBody text-xs tracking-tighter sticky text-right top-5 dark:text-proseInvertBody">
 <div class="border-b px-4 pb-4 dark:border-slate-700">
 <div class="font-bold mb-0.5 text-proseLinks dark:text-proseInvertLinks">Fragment</div>
 <div>
 <a href=https://brandur.org/fragments/deleted-record-insert>
 <span class="mx-0.5 opacity-60">🔗</span> Easy, alternative soft deletion: `deleted_record_insert`
 </a>
 </div>
 </div>
 <div class="border-b px-4 py-4 dark:border-slate-700">
 <div class="font-bold mb-0.5 text-proseLinks dark:text-proseInvertLinks">Published</div>
 <div class=font-normal>Dec&nbsp;28,&nbsp;2022</div>
 </div>
 <div class="italic px-4 py-4 dark:border-slate-700">
 I'm on X/Twitter at <a href=https://twitter.com/brandur class="font-bold text-proseLinks dark:text-proseInvertLinks">@brandur</a>.
 </div>
 </div>
 </div>
 <div class="font-bold my-1 text-proseLinks text-sm dark:text-proseInvertLinks md:hidden sf-hidden">Dec&nbsp;28,&nbsp;2022</div>
 <div class="pb-8 dark:border-slate-700 md:border-l md:flex-grow md:min-w-0 md:pl-8">
 <div class="hyphens-auto max-w-none prose prose-md dark:prose-invert prose-a:border-b prose-a:border-slate-500 prose-a:font-sans prose-a:no-underline prose-blockquote:font-normal prose-blockquote:text-slate-800 dark:prose-blockquote:text-slate-300 hover:prose-a:border-b-slate-200 prose-code:prose-a:text-sm prose-code:prose-p:text-sm prose-img:w-full prose-h1:font-bold prose-h1:text-base prose-h2:text-sm prose-h2:mb-1 prose-a:prose-h2:border-b-0 prose-a:prose-h2:font-bold prose-h3:text-xs prose-h3:mb-1 prose-a:prose-h3:border-b-0 prose-a:prose-h3:font-bold prose-h4:text-xs prose-h4:mb-1 prose-a:prose-h4:border-b-0 prose-a:prose-h4:font-bold prose-hr:my-10 prose-hr:md:-mx-[2rem] prose-hr:md:w-[calc(100%+4rem)] dark:prose-hr:text-slate-700 prose-p:font-serif prose-p:prose-blockquote:font-sans prose-pre:leading-[1.1rem] prose-pre:text-[0.8rem] prose-strong:font-sans prose-ol:font-serif prose-ul:font-serif">
 <p>A few months back I wrote <a href=https://brandur.org/soft-deletion><em>Soft deletion probably isn’t worth it</em></a> (referring to the traditional strategy of putting a <code>deleted_at</code> column in each table), an assertion that I still stand behind. I’ve spent the time migrating our code away from <code>deleted_at</code>, and we’re now at the point where it’s only left on a couple core tables where we want to retain deleted records for an exceptionally long time for debugging purposes.</p>
<p>Nearer to the end of the article I suggest an alternative to <code>deleted_at</code> called <code>deleted_record</code>, a separate schemaless table that gets a full dump of deleted data, but which doesn’t interfere with mainline code (no need to include a <code>deleted_at IS NULL</code> predicate in every live query, no foreign key problems), and without the expectation that it’ll be used to undelete data (which probably wouldn’t work for <code>deleted_at</code> anyway).</p>
<pre class="shiki shiki-themes rose-pine nord" style=background-color:#191724;--shiki-dark-bg:#2e3440ff;color:#e0def4;--shiki-dark:#d8dee9ff tabindex=0><code><span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>CREATE</span><span style=color:#31748F;--shiki-dark:#81A1C1> TABLE</span><span style=color:#EBBCBA;--shiki-dark:#88C0D0> deleted_record</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> (</span></span>
<span class=line><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>    id uuid </span><span style=color:#31748F;--shiki-dark:#81A1C1>PRIMARY KEY</span><span style=color:#31748F;--shiki-dark:#81A1C1> DEFAULT</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> gen_ulid</span><span style=color:#908CAA;--shiki-dark:#ECEFF4>()</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>,</span></span>
<span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>    data</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> jsonb </span><span style=color:#31748F;--shiki-dark:#81A1C1>NOT NULL</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>,</span></span>
<span class=line><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>    deleted_at </span><span style=color:#31748F;--shiki-dark:#81A1C1>timestamptz</span><span style=color:#31748F;--shiki-dark:#81A1C1> NOT NULL</span><span style=color:#31748F;--shiki-dark:#81A1C1> DEFAULT</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> current_timestamp,</span></span>
<span class=line><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>    object_id uuid </span><span style=color:#31748F;--shiki-dark:#81A1C1>NOT NULL</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>,</span></span>
<span class=line><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>    table_name </span><span style=color:#31748F;--shiki-dark:#81A1C1>varchar</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>(</span><span style=color:#EBBCBA;--shiki-dark:#B48EAD>200</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>) </span><span style=color:#31748F;--shiki-dark:#81A1C1>NOT NULL</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>,</span></span>
<span class=line><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>    updated_at </span><span style=color:#31748F;--shiki-dark:#81A1C1>timestamptz</span><span style=color:#31748F;--shiki-dark:#81A1C1> NOT NULL</span><span style=color:#31748F;--shiki-dark:#81A1C1> DEFAULT</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> current_timestamp</span></span>
<span class=line><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>);</span></span>
<span class=line></span></code></pre>
<p>Previously, I’d suggested manually writing <code>deleted_record</code> into each deletion query, but we’ve since found a much cleaner way to do it. Here’s a function which will generically insert a deleted record from any source table:</p>
<pre class="shiki shiki-themes rose-pine nord" style=background-color:#191724;--shiki-dark-bg:#2e3440ff;color:#e0def4;--shiki-dark:#d8dee9ff tabindex=0><code><span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>CREATE</span><span style=color:#31748F;--shiki-dark:#81A1C1> FUNCTION</span><span style=color:#EBBCBA;--shiki-dark:#88C0D0> deleted_record_insert</span><span style=color:#908CAA;--shiki-dark:#ECEFF4>()</span><span style=color:#31748F;--shiki-dark:#81A1C1> RETURNS</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> trigger</span></span>
<span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>    LANGUAGE</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> plpgsql</span></span>
<span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>AS</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> $$</span></span>
<span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>    BEGIN</span></span>
<span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>        EXECUTE</span><span style=color:#F6C177;--shiki-dark:#ECEFF4> '</span><span style=color:#F6C177;--shiki-dark:#A3BE8C>INSERT INTO deleted_record (data, object_id, table_name) VALUES ($1, $2, $3)</span><span style=color:#F6C177;--shiki-dark:#ECEFF4>'</span></span>
<span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>        USING</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> to_jsonb(OLD.</span><span style=color:#31748F;--shiki-dark:#81A1C1>*</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>), </span><span style=color:#31748F;--shiki-dark:#D8DEE9FF>OLD</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>.</span><span style=color:#31748F;--shiki-dark:#D8DEE9FF>id</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>, TG_TABLE_NAME;</span></span>
<span class=line></span>
<span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>        RETURN</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> OLD;</span></span>
<span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>    END</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>;</span></span>
<span class=line><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>$$;</span></span>
<span class=line></span></code></pre>
<p>Invoke it as an <code>AFTER DELETE</code> trigger on any table for which you want to retain soft deletion records:</p>
<pre class="shiki shiki-themes rose-pine nord" style=background-color:#191724;--shiki-dark-bg:#2e3440ff;color:#e0def4;--shiki-dark:#d8dee9ff tabindex=0><code><span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>CREATE</span><span style=color:#31748F;--shiki-dark:#81A1C1> TRIGGER</span><span style=color:#EBBCBA;--shiki-dark:#88C0D0> deleted_record_insert</span><span style=color:#31748F;--shiki-dark:#81A1C1> AFTER</span><span style=color:#31748F;--shiki-dark:#81A1C1> DELETE</span><span style=color:#31748F;--shiki-dark:#81A1C1> ON</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> credit</span></span>
<span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>    FOR</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> EACH </span><span style=color:#31748F;--shiki-dark:#81A1C1>ROW</span><span style=color:#31748F;--shiki-dark:#81A1C1> EXECUTE</span><span style=color:#31748F;--shiki-dark:#81A1C1> FUNCTION</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> deleted_record_insert</span><span style=color:#908CAA;--shiki-dark:#ECEFF4>()</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>;</span></span>
<span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>CREATE</span><span style=color:#31748F;--shiki-dark:#81A1C1> TRIGGER</span><span style=color:#EBBCBA;--shiki-dark:#88C0D0> deleted_record_insert</span><span style=color:#31748F;--shiki-dark:#81A1C1> AFTER</span><span style=color:#31748F;--shiki-dark:#81A1C1> DELETE</span><span style=color:#31748F;--shiki-dark:#81A1C1> ON</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> discount</span></span>
<span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>    FOR</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> EACH </span><span style=color:#31748F;--shiki-dark:#81A1C1>ROW</span><span style=color:#31748F;--shiki-dark:#81A1C1> EXECUTE</span><span style=color:#31748F;--shiki-dark:#81A1C1> FUNCTION</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> deleted_record_insert</span><span style=color:#908CAA;--shiki-dark:#ECEFF4>()</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>;</span></span>
<span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>CREATE</span><span style=color:#31748F;--shiki-dark:#81A1C1> TRIGGER</span><span style=color:#EBBCBA;--shiki-dark:#88C0D0> deleted_record_insert</span><span style=color:#31748F;--shiki-dark:#81A1C1> AFTER</span><span style=color:#31748F;--shiki-dark:#81A1C1> DELETE</span><span style=color:#31748F;--shiki-dark:#81A1C1> ON</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> invoice</span></span>
<span class=line><span style=color:#31748F;--shiki-dark:#81A1C1>    FOR</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> EACH </span><span style=color:#31748F;--shiki-dark:#81A1C1>ROW</span><span style=color:#31748F;--shiki-dark:#81A1C1> EXECUTE</span><span style=color:#31748F;--shiki-dark:#81A1C1> FUNCTION</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF> deleted_record_insert</span><span style=color:#908CAA;--shiki-dark:#ECEFF4>()</span><span style=color:#E0DEF4;--shiki-dark:#D8DEE9FF>;</span></span>
<span class=line></span></code></pre>
<p>Speaking from 30,000 feet, programming is all about tradeoffs. However, this is one of those rare places where as far as I can tell the cost/benefit skew is so disproportionate that the common platitude falls flat.</p>
<p>Since introducing this pattern months ago I haven’t detected a single problem as it’s happily worked away in the background without issue and there hasn’t been a moment where I’ve found myself wishing that I had <code>deleted_at</code> back. During this time we’ve undoubtedly saved ourselves from dozens of bugs and countless hours of debugging time as people accidentally omit <code>deleted_at IS NULL</code> from production and analytical queries.</p>
<p>A++ programming pattern. Would implement again.</p>
 </div>
 </div>
 </div>
</div>
<div class="border-t pb-20 p-8 w-vp dark:border-slate-700">
 <div class="container max-w-[550px] mx-auto">
 <div class="italic max-w-none prose prose-sm dark:prose-invert prose-a:border-b prose-a:border-slate-500 prose-a:font-sans prose-a:no-underline hover:prose-a:border-b-slate-200 prose-p:font-serif prose-p:text-[0.8rem]">
 
 <p>
 Did I make a mistake? Please consider <a href=https://github.com/brandur/sorg/edit/master/content/fragments/deleted-record-insert.md>sending a
 pull request</a>.
 </p>
 
 </div>
 </div>
</div>
</div>
 
 
<div style=display:block;opacity:1;color-scheme:light><template shadowrootmode=open><iframe allowtransparency=true frameborder=0 scrolling=no class=sk_ui title=Surfingkeys style=position:fixed;left:0px;bottom:0px;width:100%;height:0px;z-index:2147483647></iframe></template></div><script data-template-shadow-root>(()=>{document.currentScript.remove();processNode(document);function processNode(node){node.querySelectorAll("template[shadowrootmode]").forEach(element=>{let shadowRoot = element.parentElement.shadowRoot;if (!shadowRoot) {try {shadowRoot=element.parentElement.attachShadow({mode:element.getAttribute("shadowrootmode"),delegatesFocus:element.getAttribute("shadowrootdelegatesfocus")!=null,clonable:element.getAttribute("shadowrootclonable")!=null,serializable:element.getAttribute("shadowrootserializable)!=null});shadowRoot.innerHTML=element.innerHTML;element.remove()} catch (error) {} if (shadowRoot) {processNode(shadowRoot)}}})}})()</script>